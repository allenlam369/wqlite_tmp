-- DDL script for table BM_BEACH for PostgreSQL
-- Generated by (c) Ispirer SQLWays 9.0 Build 6620 64bit Licensed to eCom - William Leung - United States - Ispirer MnMTK 2020 Microsoft SQL Server to PostgreSQL Database Migration Demo License (1 month, 20210626)
-- Timestamp: Thu May 27 10:26:07 2021
-- Create table statement


DROP TABLE IF EXISTS BM_BEACH CASCADE;


CREATE TABLE BM_BEACH
(
   SITE_ID DECIMAL(4,0)  NOT NULL,
   BEACH_CODE VARCHAR(5)   NOT NULL,
   BEACH_NAME VARCHAR(52)   NOT NULL,
   CHINESE_NAME VARCHAR(24),
   SC_NAME VARCHAR(24),
   DISTRICT_CODE VARCHAR(3)   NOT NULL,
   RAIN_STATION_CODE VARCHAR(3)   NOT NULL,
   TIDE_STATION_CODE VARCHAR(3)   NOT NULL,
   REMARK VARCHAR(1000),
   SZ_ID VARCHAR(3),
   EASTING DECIMAL(9,3),
   NORTHING DECIMAL(9,3),
   LATITUDE DECIMAL(10,7),
   LONGITUDE DECIMAL(10,7),
   WCZ_CODE DECIMAL(3,0),
   VALID_USER VARCHAR(10),
   VALID_DATE TIMESTAMP,
   VALID_CODE DECIMAL(3,0)
);


-- Primary key

ALTER TABLE BM_BEACH add CONSTRAINT PK_BEACH
PRIMARY KEY(BEACH_CODE);


ALTER TABLE BM_BEACH add CONSTRAINT FK_BM_BEACH_DISTRICT
FOREIGN KEY(DISTRICT_CODE)
REFERENCES BM_DISTRICT(DISTRICT_CODE)   ON DELETE NO ACTION  ON UPDATE NO ACTION;


ALTER TABLE BM_BEACH add CONSTRAINT FK_BM_BEACH_RAIN_STATION
FOREIGN KEY(RAIN_STATION_CODE)
REFERENCES BM_RAIN_STATION(RAIN_STATION_CODE)   ON DELETE NO ACTION  ON UPDATE NO ACTION;


ALTER TABLE BM_BEACH add CONSTRAINT FK_BM_BEACH_TIDE_STATION
FOREIGN KEY(TIDE_STATION_CODE)
REFERENCES BM_TIDE_STATION(TIDE_STATION_CODE)   ON DELETE NO ACTION  ON UPDATE NO ACTION;


ALTER TABLE BM_BEACH add CONSTRAINT PK_BEACH_ID UNIQUE(SITE_ID);

